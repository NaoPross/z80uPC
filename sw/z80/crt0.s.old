    .module crt0
    .globl  _main

    .area _HEADER (ABS)
;; reset vector
    .org 0x0000 
    jp    init
    
    .org 0x0100

init:
;; Stack at the top of memory.
    ld    sp,#0xffff                

    ;; initialise global variables
    call gsinit
    call _main
    jp   _exit

    ;; Ordering of segments for the linker.
    .area _HOME
    .area _CODE
    .area     _GSINIT
    .area     _GSFINAL

    .area _DATA
    .area     _BSS
    .area     _HEAP

    .area     _CODE
__clock::
    ret
    
_exit::
    ret
    
    .area     _GSINIT

gsinit::    

.area _GSFINAL
    ret

